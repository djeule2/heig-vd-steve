<?xml version="1.0" encoding="UTF-8"?>
	<project name="labo03" default="main" basedir=".">
	<description>Laboratoire 03 Gen 2010</description>

   <target name="init" description="export" >
		<property name="root" value="${basedir}"/>
        <property name="libDir" value="${root}/lib"/>
        <property name="srcDir" value="${root}/src"/>
        <property name="classesDir" value="${root}/classes"/>
        <property name="tempDir" value="${root}/temp"/>
        <property name="classpath" value="${root}/lib"/>
        <property name="jarFile" value="${root}/monApplicJava.jar"/>
   </target>


   <target name="mkdir" depends="init" description="make folder">
		<mkdir  dir="${classesDir}"/>
		<mkdir  dir="${tempDir}"/>
   </target>
   
   
   
   <target name="compil" description="build" depends="mkdir">
     <javac classpath="${classpath}" srcdir="${srcDir}" destdir="${classesDir}" debug="on" deprecation="on" optimize="off" >
       <include name="Gui.java" />
     </javac>
   </target>
   

   <target name="main" depends="compil" description="archive .class" >
		<copy todir="${tempDir}">
			<fileset dir="${classesDir}">
				<exclude name="**/*.java"/>
			</fileset>
			<fileset dir="${libDir}">
				<exclude name="**/*.svn"/>
			</fileset>
		</copy>
	
		<jar destfile="${jarFile}" basedir="${tempDir}">
			<manifest>
				<attribute name="Main-Class" value="Gui"/>
			</manifest>
		</jar>
	</target>

	<target name="clean" description="remove uselessfile" depends="init">
		<delete includeEmptyDirs="true" >
			<fileset dir="${classesDir}" />
			<fileset dir="${tempDir}" />
		</delete>
   </target>
   
	<target name="run" description="execute" depends="main">
		<java jar="${jarFile}" fork="true"/>		
	</target> 
 
</project>
